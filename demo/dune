(library
  (name demo)
  (libraries coq-base.lib))

(rule
  (target File.v)
  (action (run coqffi %{cmi:file} %{target})))

(rule
  (target Foo.v)
  (action (run coqffi %{cmi:foo} %{target})))